
#### 简要描述

- 下载朋友圈图片、视频

#### 如何下载

##### 朋友圈图片、朋友圈视频缩略图
直接GET下载

xml中有个key字段，该key是解密的`decodeKey`值，需要保存下来，解密时需要用到。

下载响应头字段含义：
`Content-Length` 字段，即为图片大小。
`X-Enc` 字段，有可能表示图片是否加密，1表示加密，0表示未加密。

如果加密了，需要解密，解密方式查看下方[解密方式](#如何解密)。

##### 朋友圈视频
url + "?" + "token=" + token + "&idx=1"以GET方式下载，需要设置UA：`MicroMessenger Client`。

注：部分朋友圈视频可能没有加密，可以根据xml中是否包含`enc key`来判断。

decodeKey:同上

如果加密了，需要解密，解密方式查看下方[解密方式](#如何解密)。

##### 视频号视频
url + token以GET方式下载。

如果加密了，需要解密，解密方式查看下方[解密方式](#如何解密)。

#### 如何解密



- 查看[解密方法.md](../视频号/视频号作品解密.md)



